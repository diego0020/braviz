<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Braviz Messages &mdash; Braviz Documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3b',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/fold_classes.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="top" title="Braviz Documentation" href="../index.html" /> 
  </head>
  <body role="document">
    
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/Logo_Bravis_h.png" alt="Logo"/>
          </a></p>
          <!--
        <div class="headertitle"><a
          href="../index.html"> Documentation </a></div>
          -->
          <nav class="parents">
              <ol>
        <li><a href="../index.html"> Home </a> &raquo;</li>
                  </ol>
          </nav>
       </div>
    </div>


    <div class="content-wrapper">
      <div class="content">
        <div class="sidebar" id="agogo-sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/Logo_Bravis_h.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Braviz Messages</a><ul>
<li><a class="reference internal" href="#subject">Subject</a><ul>
<li><a class="reference internal" href="#syntax">Syntax:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sample">Sample</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
</ul>
</li>
<li><a class="reference internal" href="#log">Log</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reload-state">Reload State</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variables">Variables</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualization">Visualization</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ready">Ready</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="braviz-messages">
<span id="braviz-messages"></span><h1>Braviz Messages<a class="headerlink" href="#braviz-messages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subject">
<span id="subject"></span><h2>Subject<a class="headerlink" href="#subject" title="Permalink to this headline">¶</a></h2>
<p>Communicate a change of the current focus subject</p>
<div class="section" id="syntax">
<span id="syntax"></span><h3>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;subject&quot;</span><span class="p">,</span>
<span class="nx">subject</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">subj_id</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="sample">
<span id="sample"></span><h2>Sample<a class="headerlink" href="#sample" title="Permalink to this headline">¶</a></h2>
<p>Communicate a change in the current focus sample</p>
<div class="section" id="syntax">
<span id="id1"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<p>For all processes</p>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;sample&quot;</span><span class="p">,</span>
<span class="nx">sample</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">subjects</span> <span class="nx">list</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
<p>For a single process</p>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;sample&quot;</span><span class="p">,</span>
<span class="nx">sample</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">subjects</span> <span class="nx">list</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">target</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">id_of</span> <span class="nx">target</span> <span class="nx">instance</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="log">
<span id="log"></span><h2>Log<a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h2>
<p>Communicate data about user actions. Include application state (scenario), so that the state can be revisited.</p>
<div class="section" id="syntax">
<span id="id2"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="nx">action</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">description</span> <span class="nx">of</span> <span class="nx">user</span> <span class="nx">action</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">state</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">resulting</span> <span class="nx">state</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">application</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">pid</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">id</span> <span class="nx">of</span> <span class="nx">application</span> <span class="nx">instance</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">application</span> <span class="o">:</span>  <span class="o">&lt;</span><span class="nx">name</span> <span class="nx">of</span> <span class="nx">application</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">time</span> <span class="o">:</span> <span class="nx">timestamp</span> <span class="nx">when</span> <span class="nx">the</span> <span class="nx">action</span> <span class="nx">happened</span><span class="p">,</span>
<span class="nx">sceensshot</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">optional</span><span class="p">,</span>  <span class="nx">base64</span> <span class="nx">encoded</span> <span class="nx">raw</span> <span class="nx">png</span> <span class="nx">data</span> <span class="nx">of</span> <span class="nx">a</span> <span class="mi">128</span><span class="nx">x128</span> <span class="nx">image</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
<p>Example</p>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="nx">action</span><span class="o">:</span> <span class="nx">subject</span> <span class="nx">changed</span><span class="p">,</span>
<span class="nx">state</span> <span class="o">:</span> <span class="p">{</span><span class="nx">current_subject</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">variables</span><span class="o">:</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span> <span class="nx">plot</span><span class="o">:</span> <span class="p">[</span><span class="s1">'scatter'</span><span class="p">]},</span>
<span class="nx">pid</span> <span class="o">:</span> <span class="mi">1546</span><span class="p">,</span>
<span class="nx">application</span> <span class="o">:</span> <span class="s1">'anova'</span><span class="p">,</span>
<span class="nx">time</span> <span class="o">:</span> <span class="mi">105130014</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="reload-state">
<span id="reload-state"></span><h2>Reload State<a class="headerlink" href="#reload-state" title="Permalink to this headline">¶</a></h2>
<p>Used to reload the state of an application stored in the log db.</p>
<p>If the application that created that state is still open:</p>
<pre class="literal-block">
-   Should it be reloaded on the same instance? (the current implementation will do this,
    but it has to be discussed with users).
-   or should a new instance be launched?
</pre>
<p>If the application is no longer available then the menu should spawn a new instance, and then wait for the ready message
from it. After that the menu will send the message again with the target changed to the new instance.</p>
<div class="section" id="syntax">
<span id="id3"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;reload&quot;</span><span class="p">,</span>
<span class="nx">target</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">instance_id</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">scenario</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">scenario</span> <span class="nx">data</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
<div class="section" id="example">
<span id="example"></span><h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;reload&quot;</span><span class="p">,</span>
<span class="nx">target</span> <span class="o">:</span> <span class="s1">'486f3202-2d12-4122-9ad3-69c884c8ccbd'</span><span class="p">,</span>
<span class="nx">scenario</span> <span class="o">:</span> <span class="p">{</span><span class="nx">outcome</span> <span class="o">:</span> <span class="s2">&quot;my_outcome&quot;</span><span class="p">,</span> <span class="nx">sample</span> <span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="nx">regressors</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;reg_1&quot;</span><span class="p">.</span> <span class="s2">&quot;reg_2&quot;</span><span class="p">]}</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="variables">
<span id="variables"></span><h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<p>Used to suggest variables from one application to the others. Applications that receive the message
should display a dialog indicating the suggestion and asking the user if he wants to add all of them
or a subset to the working set of variables.</p>
<div class="section" id="syntax">
<span id="id4"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;variables&quot;</span><span class="p">,</span>
<span class="nx">variables</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">vars_list</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
<div class="section" id="example">
<span id="id5"></span><h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;variables&quot;</span><span class="p">,</span>
<span class="nx">variables</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;var_1&quot;</span><span class="p">,</span> <span class="s2">&quot;var_2&quot;</span><span class="p">,</span> <span class="s2">&quot;var_3&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="visualization">
<span id="visualization"></span><h2>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h2>
<p>These messages are used to share visualizations between applications. The punctual cases considered right now are</p>
<pre class="literal-block">
- Copy the configuration of one subject_overview application to another, useful for comparing subjects side by side
- Copy the configuration fron one subject_overview application to a sample_overview without saving a scenario
</pre>
<p>These messages should be targeted to a specific application instance in order to not affect the state of other applications.
For this purpose the sender instance must know which receivers are available and ask the user to select one of them.</p>
<p>In the future more cases may be added.</p>
<div class="section" id="syntax">
<span id="id6"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;Visualization&quot;</span><span class="p">,</span>
<span class="nx">source</span> <span class="o">:</span> <span class="s2">&quot;subject_overview&quot;</span><span class="p">,</span>
<span class="nx">target</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">id_of_target_application</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">scenario</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">scenario_data</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
<div class="section" id="example">
<span id="id7"></span><h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;Visualization&quot;</span><span class="p">,</span>
<span class="nx">source</span> <span class="o">:</span> <span class="s2">&quot;subject_overview&quot;</span><span class="p">,</span>
<span class="nx">scenario</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">scenario_data</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
</div>
<div class="section" id="ready">
<span id="ready"></span><h2>Ready<a class="headerlink" href="#ready" title="Permalink to this headline">¶</a></h2>
<div class="section" id="syntax">
<span id="id8"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;ready&quot;</span><span class="p">,</span>
<span class="nx">source_pid</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">pid</span><span class="o">&gt;</span><span class="p">,</span>
<span class="nx">source_id</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">uid</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre>
</div>
<div class="section" id="example">
<span id="id9"></span><h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Desktop application</p>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;ready&quot;</span><span class="p">,</span>
<span class="nx">source_pid</span> <span class="o">:</span> <span class="mi">345</span><span class="p">,</span>
<span class="nx">source_id</span> <span class="o">:</span> <span class="s1">'486f3202-2d12-4122-9ad3-69c884c8ccbd'</span>
<span class="p">}</span>
</pre>
<p>Web application</p>
<pre class="code highlight javascript literal-block">
<span class="p">{</span>
<span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;ready&quot;</span><span class="p">,</span>
<span class="nx">source_pid</span> <span class="o">:</span> <span class="mi">345</span><span class="p">,</span>
<span class="nx">source_id</span> <span class="o">:</span> <span class="s1">'486f3202-2d12-4122-9ad3-69c884c8ccbd'</span>
<span class="p">}</span>
</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>

        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          
          <a href="../py-modindex.html" title="Python Module Index"
              >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I" >index</a>
          
            <br/>
            <a href="../_sources/library/communication_protocol.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Diego Angulo.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>







        
  </body>
</html>